(this["webpackJsonpoffice-system"]=this["webpackJsonpoffice-system"]||[]).push([[0],{272:function(e,t,a){e.exports=a(490)},280:function(e,t,a){},312:function(e,t){},314:function(e,t){},354:function(e,t){},355:function(e,t){},489:function(e,t,a){},490:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(56),c=a.n(l),o=(a(277),a(278),a(18)),i=(a(280),a(30)),s=a(31),m=a(33),d=a(32),u=a(270),p=a(53),g=a(38),h=Object(p.b)("api/callBegan"),b=Object(p.b)("api/callSuccess"),f=Object(p.b)("api/callFailed"),E=a(97),v=a.n(E),y=Object(p.c)({name:"users",initialState:{list:[],loading:!0,lastFetch:null},reducers:{usersRequested:function(e,t){e.loading=!0},usersReceived:function(e,t){e.list=t.payload,e.loading=!1,e.lastFetch=Date.now()},usersRequestFailed:function(e,t){e.loading=!1},userAdded:function(e,t){e.list.push(t.payload)},userChangeEmail:function(e,t){var a=t.payload,n=a.id,r=a.email,l=e.list.findIndex((function(e){return e.id===n}));l>-1&&(e.list[l].email=r)},userChangePassword:function(e,t){console.log("The password was changed: ".concat(t.payload))},userRemoved:function(e,t){var a=e.list.findIndex((function(e){return e.id===t.payload.id}));a>-1&&e.list.splice(a,1)}}}),N=y.actions,w=N.usersRequested,x=N.usersReceived,j=N.usersRequestFailed,A=(N.userAdded,N.userChangeEmail,N.userChangePassword,N.userRemoved,y.reducer),O=a(59),k=a.n(O),C=a(93),S=a(40),L=a(94),F=a.n(L),T=a(98),D=a.n(T),B=a(34),R=Object(p.c)({name:"patients",initialState:{list:[],loading:!0,lastFetch:null},reducers:{patientsRequested:function(e,t){e.loading=!0},patientsReceived:function(e,t){e.list=t.payload,e.loading=!1,e.lastFetch=Date.now()},patientsRequestFailed:function(e,t){e.loading=!1},patientAdded:function(e,t){e.list.push(t.payload)},patientDischargingLettterAdded:function(e,t){var a=t.payload,n=a.id,r=a.discharging,l=e.list.findIndex((function(e){return e.id===n}));l>-1&&(e.list[l].discharging=r)},letterApprovedByHeadNurce:function(e,t){var a=t.payload,n=a.id,r=a.discharging,l=e.list.findIndex((function(e){return e.id===n}));l>-1&&(e.list[l].discharging=r)},letterApprovedBySurgeon:function(e,t){var a=t.payload,n=a.id,r=a.discharging,l=e.list.findIndex((function(e){return e.id===n}));l>-1&&(e.list[l].discharging=r)},patientDischarged:function(e,t){var a=e.list.findIndex((function(e){return e.id===t.payload.id}));a>-1?(e.list[a].discharging.discharged=!0,B.c.success("Patient ".concat(e.list[a].name.first," was \n        discharged successfully"))):B.c.error("Ups, are you sude that you didn't discharge this patient already?")},patientRemoved:function(e,t){var a=e.list.findIndex((function(e){return e.id===t.payload.id}));a>-1&&e.list.splice(a,1)}}}),I=R.actions,P=I.patientsRequested,H=I.patientsReceived,W=I.patientsRequestFailed,z=(I.patientAdded,I.patientDischargingLettterAdded),U=I.letterApprovedByHeadNurce,q=I.letterApprovedBySurgeon,Y=I.patientDischarged,G=(I.patientRemoved,R.reducer),M=(Object(S.a)((function(e){return e.entities.bugs}),(function(e){return e.entities.projects}),(function(e,t){return e.list.filter((function(e){return!e.resolved}))})),Object(g.c)({users:A,patients:G})),J=Object(g.c)({entities:M}),V=function(e){return function(e){return function(t){if("error"!==t.type)return e(t);console.log("Toastify",t.payload.message)}}},_=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(C.a)(k.a.mark((function a(n){var r,l,c,o,i,s,m,d;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.type===h.type){a.next=2;break}return a.abrupt("return",e(n));case 2:return r=n.payload,l=r.url,c=r.method,o=r.data,i=r.onStart,s=r.onSuccess,m=r.onError,i&&t({type:i}),e(n),a.prev=5,a.next=8,F.a.request({baseURL:"https://ancient-headland-74797.herokuapp.com/api",url:l,method:c,data:o});case 8:d=a.sent,t(b(d.data)),s&&t({type:s,payload:d.data}),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),t(f(a.t0.message)),m&&t({type:m,payload:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[5,13]])})));return function(e){return a.apply(this,arguments)}}()}},$=a(29),K=a(26),Q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-group"},r.a.createElement(o.c,{to:"/patients",type:"button",className:"list-group-item list-group-item-action "},"Patients"),r.a.createElement(o.c,{to:"/colegues",type:"button",className:"list-group-item list-group-item-action "},"Colegues"),r.a.createElement(o.c,{to:"/archive",type:"button",className:"list-group-item list-group-item-action "},"Archive")))}}]),a}(n.Component),X=a(68),Z=a(256),ee=a(138),te=a(58),ae=a.n(te),ne=a(255);console.log("https://ancient-headland-74797.herokuapp.com/api");var re=function(){var e=Object(C.a)(k.a.mark((function e(t){var a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,F.a.post("https://ancient-headland-74797.herokuapp.com/api/auth",{email:a,password:n});case 4:r=e.sent,localStorage.setItem("jwt",r.data),window.location.replace("/patients"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),B.c.error("User not found!");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=localStorage.getItem("jwt");if(e)return Object(ne.a)(e)};ae()(document).ready((function(){ae()('[data-toggle="popover"]').popover({trigger:"focus",html:!0})}));var ce=function(){var e=Object($.d)((function(e){return e.entities.patients.list})),t=le(),a=e.filter((function(e){return e.discharging.letterApproved&&!1===e.discharging.discharged})),n=e.filter((function(e){return e.discharging.dischargeLetter&&e.discharging.inProcess&&!e.discharging.letter.headNurseApproved})),l=e.filter((function(e){return e.discharging.dischargeLetter&&e.discharging.inProcess&&e.discharging.letter.headNurseApproved&&!e.discharging.letter.surgeonApproved})),c=a.map((function(e){return"<div key=".concat(e.id,' class="bg-success text-light border p-1 mt-2"><strong>').concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last,"</strong> is ready for disharging!</div>")})),o=n.map((function(e){return"<div key=".concat(e.id,' class="bg-success text-light border p-1 mt-2"><strong>').concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last,"</strong> discharging letter waiting for approval!</div>")})),i=l.map((function(e){return"<div key=".concat(e.id,' class="bg-success text-light border p-1 mt-2"><strong>').concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last,"</strong> discharging letter waiting for approval!</div>")}));return r.a.createElement(r.a.Fragment,null,t&&t.accessLevel<2&&r.a.createElement("button",{style:{borderRadius:50},className:"btn mt-3","data-triger":"focus","data-toggle":"popover","data-placement":"bottom",title:"Notifications","data-content":c.join("")},r.a.createElement(X.a,{style:{fontSize:35},icon:ee.a}),a.length>0&&r.a.createElement("span",{style:{position:"relative",left:"-8px"},className:"badge badge-pill badge-danger"},a.length)),t&&2===t.accessLevel&&r.a.createElement("button",{style:{borderRadius:50},className:"btn mt-3","data-triger":"focus","data-toggle":"popover","data-placement":"bottom",title:"Notifications","data-content":o.join("")},r.a.createElement(X.a,{style:{fontSize:35},icon:ee.a}),n.length>0&&r.a.createElement("span",{style:{position:"relative",left:"-8px"},className:"badge badge-pill badge-danger"},n.length)),t&&3===t.accessLevel&&r.a.createElement("button",{style:{borderRadius:50},className:"btn mt-3","data-triger":"focus","data-toggle":"popover","data-placement":"bottom",title:"Notifications","data-content":i.join("")},r.a.createElement(X.a,{style:{fontSize:35},icon:ee.a}),l.length>0&&r.a.createElement("span",{style:{position:"relative",left:"-8px"},className:"badge badge-pill badge-danger"},l.length)))},oe=function(e){var t,a=e.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light col-12 shadow"},r.a.createElement(o.c,{className:"navbar-brand",to:"/"},r.a.createElement(X.a,{className:"text-info ml-3",style:{fontSize:50},icon:Z.a}),r.a.createElement("span",{style:{fontSize:20},className:"badge badge-info"},"Docs")),r.a.createElement(ce,null),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse mt-3",id:"navbarText"},!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginLeft:"auto"},className:"d-flex justify-content-end "},r.a.createElement(o.c,{className:"btn btn-outline-info my-2 my-sm-0",to:"/login"},"Login"),r.a.createElement(o.c,{className:"btn btn-outline-info my-2 my-sm-0 ml-3 mr-3",to:"/register"},"Register"))),a&&r.a.createElement("div",{style:{marginLeft:"auto"},className:"d-flex justify-content-end"},r.a.createElement(o.c,{className:"text-info my-2 p-2 my-sm-0",to:"/username"},(t=a.login.username).replace(t.charAt(0),t.charAt(0).toUpperCase())),r.a.createElement(o.c,{className:"btn btn-outline-info my-2 my-sm-0 ml-3 mr-3",to:"/logout"},"Logout"))))},ie=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-xl-5 col-lg-7 col-md-8 col-sm-10 col-12 mt-5 mx-auto text-dark"},r.a.createElement("form",{style:{padding:"80px 50px"},className:"bg-light rounded shadow border"},r.a.createElement("h3",{className:"text-center mb-3"},"Register"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"password",placeholder:"Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"confirmpassword"},"Password"),r.a.createElement("input",{type:"password",name:"password2",className:"form-control",id:"confirmpassword",placeholder:"Password Again"})),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",name:"checkbox",className:"form-check-input",id:"remember"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"remember"},"I accept terms and conditions")),r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),B.c.error("This feature is not available in prototype version.")},className:"btn btn-outline-info float-right mb-3"},"Register")))}}]),a}(n.Component),se=a(69),me=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:{email:"",password:""}},e.onSubmit=function(t){t.preventDefault(),re(e.state.user)},e.onChange=function(t){var a=Object(se.a)({},e.state.user);a[t.currentTarget.name]=t.currentTarget.value,e.setState({user:a})},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-xl-5 col-lg-7 col-md-8 col-sm-10 col-12 mt-5 text-dark mx-auto"},r.a.createElement("form",{style:{padding:"80px 50px"},className:"bg-light rounded shadow border"},r.a.createElement("h3",{className:"text-center"},"LogIn"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{onChange:this.onChange,type:"email",name:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Email that you have used while registration.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:this.onChange,type:"password",name:"password",className:"form-control",id:"password",placeholder:"Password"})),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",name:"checkbox",className:"form-check-input",id:"remember"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"remember"},"Remember me"),r.a.createElement("button",{onClick:this.onSubmit,type:"submit",className:"btn btn-outline-info float-right mb-3"},"Login"))))}}]),a}(n.Component),de=a(111),ue=a(75),pe=a.n(ue),ge=a(257),he=a(177);function be(){var e=Object(ge.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n  width: 40px;\n  height: 40px;\n"]);return be=function(){return e},e}var fe=Object(he.css)(be());ae()(document).ready((function(){ae()('[data-toggle="tooltip"]').tooltip()}));var Ee=function(){var e,t=Object($.d)((function(e){return e.entities.users}));e=t.loading;var a=function(e,t){B.c.success("".concat(e,": ").concat(t," coppied to clipboard!"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-5 mr-2 ml-2"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Full Name"),r.a.createElement("th",{scope:"col"},"Job title"),r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Password"))),r.a.createElement("tbody",null,t.list.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("a",{href:e.picture.large},r.a.createElement("img",{className:"rounded border shadow mx-auto d-block",src:e.picture.large,alt:e.name.first+"'s picture"}))),r.a.createElement("td",null,e.name.first+" "+e.name.last),r.a.createElement("td",null,e.jobTitle),r.a.createElement("td",null,e.login.username),r.a.createElement("td",null,r.a.createElement(de.CopyToClipboard,{text:e.email},r.a.createElement("button",{className:"btn btn-sm btn-info","data-toggle":"tooltip","data-placement":"bottom",title:"Coppy to clipboard!",onClick:function(){return a("Email",e.email)}},e.email))),r.a.createElement("td",null,r.a.createElement(de.CopyToClipboard,{text:e.login.password},r.a.createElement("button",{className:"btn btn-sm btn-info","data-toggle":"tooltip","data-placement":"bottom",title:"Coppy to clipboard!",onClick:function(){return a("Password",e.login.password)}},e.login.password))))})))),e&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(pe.a,{css:fe,size:150,color:"#123abc",loading:e}),"Loadig...")))},ve=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null),r.a.createElement(Ee,null))},ye=a(137),Ne=a(182),we=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"alert-info text-center text-dark mt-3 mb-5 pt-3 pb-5 rounded shadow"},"Welcome to Docs"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-xlg-6 d-flex justify-content-center"},r.a.createElement(ye.a,{src:"https://image.freepik.com/free-vector/doctors-concept-illustration_114360-1515.jpg"})),r.a.createElement("div",{className:"col-12 col-xlg-6 "},r.a.createElement("h2",{className:"text-center text-secondary mt-5"},"What is all about?"),r.a.createElement("p",{className:" m-4 p-5 mx-auto border shadow rounded",style:{maxWidth:800,fontSize:23}},"Docs is a hospital document system. It allows the nurses to create discharging letters for patients, and after the head nurse and surgeon approved the document to be download, and the patient can be discharged.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"p-2 aler alert-secondary rounded"},r.a.createElement(X.a,{icon:Ne.a})," GitHub repository:",r.a.createElement(o.b,{className:"ml-2",to:"https://github.com/YordanovDnA/Docs-system"},"click"),"."),r.a.createElement("br",null),r.a.createElement("br",null),"To test the application you can use some of the users provided from the table on the ",r.a.createElement("a",{href:"/login"},"Login")," page.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"alert alert-success p-2 text-dark"},r.a.createElement("strong",null,"Steps:"),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"1. Log in with one of the nurses."),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"2. Create a new discharging letter for a patient."),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"3. Log out and log in with the head nurse."),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"4. Update the letter, and approve it."),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"5. Log out and log in with the surgeon."),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"6. Update the letter, and approve it."),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"7. Log out and log in with a nurse again."),r.a.createElement("span",{className:"ml-2 mt-2 d-block"},"8. You can now see the document, download it, and discharge the patient.")),r.a.createElement("hr",null),r.a.createElement("div",{style:{fontSize:16}},"Developed using ",r.a.createElement(X.a,{color:"#5FD1F7",icon:Ne.b}),"React."),r.a.createElement("div",{style:{fontSize:16}},r.a.createElement("span",null,"Developer:"),r.a.createElement(o.b,{to:"http://iliyanyordanov.com"},"ILIYAN YORDANOV"))))))},xe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,null))}}]),a}(n.Component),je=function(){localStorage.removeItem("jwt"),window.location.replace("/")},Ae=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" col-md-5 mx-auto mt-5"},r.a.createElement(ye.a,{className:"w-100",src:"https://image.freepik.com/free-vector/error-404-concept-illustration_114360-1811.jpg"})),r.a.createElement("h1",{className:"text-center"},"Ups...something wrong. Not such a page."))}}]),a}(n.Component);ae()(document).ready((function(){ae()('[data-toggle="tooltip"]').tooltip()}));var Oe=function(){var e,t=Object($.c)(),a=Object($.d)((function(e){return e.entities.patients})),n=a.list.filter((function(e){return!e.discharging.discharged})),l=le().accessLevel;e=a.loading;var c=function(e){t(function(e){return h({url:"".concat("/patients","/").concat(e,"/discharge"),method:"patch",onSuccess:Y.type})}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},r.a.createElement(o.b,{to:"/addPatient",className:"btn btn-sm btn-success"},"Add new")),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Age"),r.a.createElement("th",{scope:"col"},"Gender"),r.a.createElement("th",{scope:"col"},"Discharging"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},r.a.createElement("img",{src:e.picture.large,alt:"Patient ".concat(e.name.first)})),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/patient/".concat(e.id)},e.name.first+" "+e.name.last,l<2&&e.discharging.letterApproved&&!e.discharging.discharged&&r.a.createElement("span",{className:"ml-2 badge badge-pill badge-danger"},"Ready for discharge"))),r.a.createElement("td",null,e.dob.age),r.a.createElement("td",null,e.gender),r.a.createElement("td",null,l<2&&!e.discharging.dischargeLetter&&r.a.createElement(o.b,{"data-toggle":"tooltip","data-placement":"bottom",title:"Click to create discharging letter!",className:"btn btn-sm btn-info",to:"/newLetter/".concat(e.id)},"New letter"),e.discharging.inProcess&&l<2?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Waiting the document to be signed!",className:"badge badge-warning p-2"},"In process"),r.a.createElement("br",null)):null,2===l&&e.discharging.dischargeLetter&&!e.discharging.letter.headNurseApproved?r.a.createElement(o.b,{to:"/newLetter/".concat(e.id),className:"btn btn-sm btn-success mt-2","data-toggle":"tooltip","data-placement":"bottom",title:"Waiting for your approval"},"Approve letter"):null,2===l&&e.discharging.letter.headNurseApproved&&!e.discharging.letter.surgeonApproved?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Waiting the document to be signed!",className:"badge badge-warning p-2"},"Waiting surgeon to approved"),r.a.createElement("br",null)):null,l>2&&e.discharging.dischargeLetter&&!e.discharging.letter.surgeonApproved&&e.discharging.letter.headNurseApproved?r.a.createElement(o.b,{to:"/newLetter/".concat(e.id),className:"btn btn-sm btn-success mt-2","data-toggle":"tooltip","data-placement":"bottom",title:"Waiting for your approval!"},"Approve letter"):null,3!==l||!e.discharging.dischargeLetter||e.discharging.letter.headNurseApproved||e.discharging.letter.surgeonApproved?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Waiting the document to be signed!",className:"badge badge-warning p-2"},"Waiting head nurce to approved"),r.a.createElement("br",null)),l>1&&e.discharging.letterApproved&&!e.discharging.discharged&&r.a.createElement("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Waiting to be discharged from the nurce!",className:"badge badge-warning p-2"},"Waiting for discharge"),l<2&&e.discharging.letterApproved&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{className:"btn btn-sm btn-info",to:"/letterPreview/".concat(e.id)},"See letter"),r.a.createElement("br",null),r.a.createElement("button",{"data-toggle":"tooltip","data-placement":"bottom",title:"Discharge the patient!",onClick:function(){return c(e.id)},className:"btn btn-sm btn-success mt-2"},"Discharge")),l>1&&!e.discharging.dischargeLetter&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Waiting the letter to be created from the nurce!",className:"badge badge-info p-2"},"No letter"),r.a.createElement("br",null))))})))),e&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(pe.a,{css:fe,size:150,color:"17A2B8",loading:e}),"Loading...")))},ke=function(){return r.a.createElement("div",{className:"alert alert-danger m-5",role:"alert"},"This function is still not available!")},Ce=function(){var e,t=Object($.d)((function(e){return e.entities.users}));e=t.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Job Title"),r.a.createElement("th",{scope:"col"},"Email"))),r.a.createElement("tbody",null,t.list.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},r.a.createElement("img",{src:e.picture.large,alt:e.name.first})),r.a.createElement("td",null,r.a.createElement("strong",null,e.name.first+" "+e.name.last)),r.a.createElement("td",null,e.jobTitle),r.a.createElement("td",null,r.a.createElement(de.CopyToClipboard,{text:e.email},r.a.createElement("button",{className:"btn btn-sm btn-info","data-toggle":"tooltip","data-placement":"bottom",title:"Coppy to clipboard!",onClick:function(){return t="Email",a=e.email,void B.c.success("".concat(t,": ").concat(a," coppied to clipboard!"));var t,a}},e.email))),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return B.c.error("This function is still not available!")},className:"btn btn-info"},"Message")))})))),e&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(pe.a,{css:fe,size:150,color:"#123abc",loading:e}),"Loading...")))},Se=function(){var e=Object($.d)((function(e){return e.entities.patients.list})).filter((function(e){return e.discharging.discharged})),t=Object($.d)((function(e){return e.entities.patients.loading}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Age"),r.a.createElement("th",{scope:"col"},"Gender"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},r.a.createElement("img",{src:e.picture.large,alt:"Patient ".concat(e.name.first)})),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/patient/".concat(e.id)},e.name.first+" "+e.name.last)),r.a.createElement("td",null,e.dob.age),r.a.createElement("td",null,e.gender))})))),t&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(pe.a,{css:fe,size:150,color:"17A2B8",loading:t}),"Loading..."),!t&&e.length<1&&r.a.createElement("div",{className:"alert alert-info",role:"alert"},"There is nothing to show!")))},Le=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={note:{title:"",body:""}},e.onChange=function(t){var a=Object(se.a)({},e.state.note);a[t.currentTarget.name]=t.currentTarget.value,e.setState({note:a})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.uuid,n=t.onClick;return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Add a note:"),r.a.createElement("input",{onChange:this.onChange,name:"title",type:"text",className:"form-control",id:"title",placeholder:"Title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:this.onChange,className:"form-control",name:"body",id:"",cols:"30",rows:"10"})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{onClick:function(){return n(a,e.state.note)},className:"btn btn-outline-info",type:"button"},"Submit")))}}]),a}(n.Component),Fe=function(e){var t=e.notes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-2"},r.a.createElement("div",{id:"accordianId",role:"tablist","aria-multiselectable":"true"},t&&t.map((function(e){return r.a.createElement("div",{key:e.title,className:"card"},r.a.createElement("div",{className:"card-header",role:"tab",id:"section2HeaderId"},r.a.createElement("h5",{className:"mb-0"},r.a.createElement("a",{"data-toggle":"collapse","data-parent":"#accordianId",href:"#section2ContentId","aria-expanded":"true","aria-controls":"section2ContentId"},e.title))),r.a.createElement("div",{id:"section2ContentId",className:"collapse in",role:"tabpanel","aria-labelledby":"section2HeaderId"},r.a.createElement("div",{className:"card-body"},e.body,r.a.createElement("p",{className:"text-muted"},"- Added by ".concat(e.addedBy)))))})))))},Te=function(e){var t=e.patient;console.log(t);var a=t.id,n=t.name,l=t.picture,c=t.gender,i=t.age,s=t.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col"},r.a.createElement("img",{className:" mt-2",src:l.large,alt:""}),r.a.createElement("h5",{className:"card-title  mt-2"},n.title+" "+n.first+" "+n.last),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Gender: ",c),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Age: ",i),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Address:"),r.a.createElement("p",{className:"card-text"},s.street.number,", ",s.street.name," ",r.a.createElement("br",null),s.city,",",s.country," ",r.a.createElement("br",null),s.postcode),t.discharging.letterApproved&&r.a.createElement(o.b,{className:"btn btn-sm btn-info",to:"/letterPreview/".concat(a)},"See letter")))},De=function(e){var t=Object($.d)((function(e){return e.entities.patients.list})),a=e.match.params.id,n=t.findIndex((function(e){return e.id===a})),l=t[n],c=l.notes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mx-auto mt-5",style:{minWidth:"18rem",maxWidth:"50rem",width:"100%"}},r.a.createElement("div",{className:"card-body row"},r.a.createElement(Te,{patient:l}),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(Le,{uuid:a,onClick:function(e,t){console.log("Submit")}})))),r.a.createElement(Fe,{notes:c}))},Be=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={letter:{patientName:"",date:"",body:"",createdBy:"",headNurseApproved:!1,surgeonApproved:!1,signedBy:[]},id:""},e.onChange=function(t){var a=Object(se.a)({},e.state.letter);a[t.currentTarget.name]=t.currentTarget.value,e.setState({letter:a})},e.submitLetter=function(t){t.preventDefault();var a=e.props.match.params.id,n={letter:Object(se.a)({},e.state.letter),inProcess:!0,dischargeLetter:!0,letterApproved:!1,discharged:!1};e.props.addDischargingLetter(a,n),e.props.history.replace("/patients"),B.c.success("".concat(e.state.letter.patientName," letter has been send for approval. "))},e.approveLetter=function(t){t.preventDefault(),console.log("Approved");var a=e.props.match.params.id,n=le(),r={letter:Object(se.a)({},e.state.letter),inProcess:!0,dischargeLetter:!0,letterApproved:!1,discharged:!1},l=Object(T.values)(n.name).join(" ")+" - "+n.jobTitle;2===n.accessLevel&&e.props.headNurceApprove(a,r,l),3===n.accessLevel&&e.props.surgeonApprove(a,r,l),e.props.history.replace("/patients")},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.patients.find((function(t){return t.id===e})),a=le(),n=a.accessLevel,r=a.jobTitle,l=t.discharging.letter,c=l.createdBy,o=l.body,i=Object(se.a)({},this.state.letter),s=Object(T.values)(t.name).join(" ");if(i.patientName=s,n<2){var m=Object(T.values)(le().name).join(" ");i.body="Dear ".concat(s,",\n\nToday ").concat((new Date).getUTCDate(),"/").concat((new Date).getUTCMonth()+1,"/").concat((new Date).getUTCFullYear(),", we are discharging you from [Hospital name].\n\n[Some information about the following days]\n\nDiagnose:\n\n[Write the diagnose of the patient here]\n\n Additional information:\n\n [Write any additional information for the patient]"),i.createdBy=m+" - "+r}else i.body=o,i.createdBy=c;this.setState({letter:i})}},{key:"render",value:function(){var e=this.state.letter,t=e.createdBy,a=e.body,n=e.signedBy,l=le().accessLevel;return r.a.createElement("div",null,r.a.createElement("form",{className:"col-md-6 mx-auto mt-5 border shadow pt-5 pb-5 pl-3 pr-3"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("h4",{style:{fontWeight:"lighter"},className:"text-center text-muted"},"Discharging letter"),r.a.createElement("p",{className:"text-right"},"National Health Service ",r.a.createElement("br",null)," [Hospital name] ",r.a.createElement("br",null)," [Hospital address] ",r.a.createElement("br",null),"[Hospital contact information]")),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group mt-5 mb-5"},r.a.createElement("textarea",{defaultValue:a,autoFocus:!0,onChange:this.onChange,className:"form-control",name:"body",cols:"30",rows:"13"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"pl-2 pr-2 row"},r.a.createElement("div",{className:" col-6"},"Yours sincerely, ",r.a.createElement("br",null),t),r.a.createElement("div",{className:"text-right col-6"},n[0]&&n[1]?"Signed by:":"**Document is not signed**"," ",r.a.createElement("br",null)," ",n[0]?n[0]:"[head nurse]",r.a.createElement("br",null)," ",n[1]?n[1]:"[surgeon]")),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{onClick:l<2?this.submitLetter:this.approveLetter,className:"btn btn-sm btn-primary"},l<2?"Save":"Aprove"))))}}]),a}(n.Component),Re=Object($.b)((function(e){return{patients:e.entities.patients.list}}),(function(e){return{addDischargingLetter:function(t,a){return e(function(e,t){return h({url:"/patients/"+e,method:"put",data:{discharging:t},onSuccess:z.type})}(t,a))},headNurceApprove:function(t,a,n){return e(function(e,t,a){return h({url:"".concat("/patients","/").concat(e,"/headNurseApproved"),method:"patch",data:{discharging:t,signedBy:a},onSuccess:U.type})}(t,a,n))},surgeonApprove:function(t,a,n){return e(function(e,t,a){return h({url:"".concat("/patients","/").concat(e,"/surgeonApproved"),method:"patch",data:{discharging:t,signedBy:a},onSuccess:q.type})}(t,a,n))}}}))(Be),Ie=a(64),Pe=Ie.d.create({page:{backgroundColor:"white"},heading:{fontSize:23,textAlign:"center",marginTop:50,marginBottom:20},headingText:{fontSize:12,textAlign:"right",margin:10,padding:10},mainText:{borderTop:1,borderBottom:1,flexGrow:1,margin:10,padding:30,fontSize:14},footerText:{textAlign:"right",fontSize:12,marginLeft:20,marginRight:20}}),He=function(e){var t=e.letter,a=e.signedBy;return console.log("Document",t,a),r.a.createElement(Ie.a,{title:"DSLetter-".concat(new Date)},r.a.createElement(Ie.c,{size:"A4",style:Pe.page},r.a.createElement(Ie.f,{style:Pe.sectionTop},r.a.createElement(Ie.e,{style:Pe.heading},"Discharging letter"),r.a.createElement(Ie.e,{style:Pe.headingText},"National Health Service\n[Hospital Name]\n[Hospitaladdress]\n[Hospital contact indormation]"),r.a.createElement(Ie.e,{style:Pe.mainText},"".concat(t.body,"\n\nYours sinciraly,\n").concat(t.createdBy))),r.a.createElement(Ie.e,{style:Pe.footerText},"Signed by:\n".concat(a[0],"\n").concat(a[1]))))},We=function(e){var t=e.letter,a=e.signedBy;return console.log("Letter",t,"SignedBy",a),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b,{className:"btn btn-sm btn-info",document:r.a.createElement(He,{letter:t,signedBy:a}),fileName:"Test"},"Download"))},ze=function(e){var t=Object($.d)((function(e){return e.entities.patients})),a=e.match.params.id,n=t.list.find((function(e){return e.id===a})).discharging.letter,l=n.body,c=n.createdBy,o=n.signedBy,i=r.a.createElement(We,{letter:n,signedBy:o});return r.a.createElement("div",null,r.a.createElement("form",{className:"col-md-6 mx-auto mt-5 border shadow pt-5 pb-5 pl-3 pr-3"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("h4",{style:{fontWeight:"lighter"},className:"text-center text-muted"},"Discharging letter"),r.a.createElement("p",{className:"text-right"},"National Health Service ",r.a.createElement("br",null),"[Hospital name] ",r.a.createElement("br",null),"[Hospital address] ",r.a.createElement("br",null),"[Hospital contact information]")),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group mt-5 mb-5"},r.a.createElement("textarea",{disabled:!0,defaultValue:l,autoFocus:!0,className:"form-control",name:"body",cols:"30",rows:"13"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"pl-2 pr-2 row"},r.a.createElement("div",{className:" col-6"},"Yours sincerely, ",r.a.createElement("br",null),c),r.a.createElement("div",{className:"text-right col-6"},o[0],r.a.createElement("br",null),o[1])),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},i||"null")))},Ue=a(271),qe=function(e){var t=e.component,a=e.render,n=Object(Ue.a)(e,["component","render"]);return r.a.createElement(K.b,Object.assign({},n,{render:function(e){return le()?t?r.a.createElement(t,e):a(e):r.a.createElement(K.a,{to:"/login"})}}))},Ye=(a(488),a(489),Object(p.a)({reducer:J,middleware:[].concat(Object(u.a)(Object(p.d)()),[V,_])})),Ge=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){Ye.dispatch((function(e,t){var a=t().entities.users.lastFetch;if(!(v()().diff(v()(a),"minutes")<10))return e(h({url:"/users",onStart:w.type,onSuccess:x.type,onError:j.type}))}));var e=le();e&&(this.setState({user:e}),setInterval((function(){Ye.dispatch((function(e,t){var a=t().entities.patients.lastFetch,n=v()().diff(v()(a),"minutes");return e(n<10?Object(C.a)(k.a.mark((function a(){var n,r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.a.get("http://localhost:9002/api/patients");case 2:n=a.sent,r=t().entities.patients.list,D.a.isEqual(r,n.data)||e(h({url:"/patients",onStart:P.type,onSuccess:H.type,onError:W.type}));case 5:case"end":return a.stop()}}),a)}))):h({url:"/patients",onStart:P.type,onSuccess:H.type,onError:W.type}))}))}),2e3))}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement($.a,{store:Ye},r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{style:{marginTop:70},transition:B.b}),r.a.createElement("div",{className:"row"},r.a.createElement(oe,{user:e}),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-lg-2 "},r.a.createElement(Q,null))),r.a.createElement("div",{className:e?"col-lg-10":"col-12"},r.a.createElement(K.d,null,r.a.createElement(qe,{path:"/newLetter/:id",component:Re}),r.a.createElement(qe,{path:"/letterPreview/:id",component:ze}),r.a.createElement(qe,{path:"/patient/:id",component:De}),r.a.createElement(qe,{path:"/addPatient",component:ke}),r.a.createElement(qe,{path:"/patients",component:Oe}),r.a.createElement(qe,{path:"/colegues",component:Ce}),r.a.createElement(qe,{path:"/archive",component:Se}),r.a.createElement(K.b,{path:"/logout",component:je}),r.a.createElement(K.b,{path:"/login",component:ve}),r.a.createElement(K.b,{path:"/register",component:ie}),r.a.createElement(K.b,{exact:!0,path:"/",component:xe}),r.a.createElement(K.b,{path:"*",component:Ae}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(Ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[272,1,2]]]);
//# sourceMappingURL=main.b5f55f2a.chunk.js.map